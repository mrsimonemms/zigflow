"use strict";(globalThis.webpackChunkzigflow=globalThis.webpackChunkzigflow||[]).push([[3444],{8268(e,t,i){i.r(t),i.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"dsl/tasks/intro","title":"What Are Tasks?","description":"A task within a workflow represents a discrete unit of work that contributes to","source":"@site/docs/dsl/tasks/intro.md","sourceDirName":"dsl/tasks","slug":"/dsl/tasks/intro","permalink":"/preview/sje-seo/docs/dsl/tasks/intro","draft":false,"unlisted":false,"editUrl":"https://github.com/mrsimonemms/zigflow/tree/main/docs/docs/dsl/tasks/intro.md","tags":[],"version":"current","sidebarPosition":-1,"frontMatter":{"sidebar_position":-1,"sidebar_label":"Introduction"},"sidebar":"dslSidebar","previous":{"title":"The DSL","permalink":"/preview/sje-seo/docs/dsl/intro"},"next":{"title":"Call","permalink":"/preview/sje-seo/docs/dsl/tasks/call"}}');var s=i(4848),l=i(8453);const r={sidebar_position:-1,sidebar_label:"Introduction"},o="What Are Tasks?",d={},a=[{value:"Available Tasks",id:"available-tasks",level:2},{value:"Runtime Expressions",id:"runtime-expressions",level:2},{value:"Variables",id:"variables",level:3},{value:"Data",id:"data",level:3},{value:"Workflow",id:"workflow",level:4},{value:"Activity",id:"activity",level:4},{value:"Flow Directive",id:"flow-directive",level:2}];function c(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"what-are-tasks",children:"What Are Tasks?"})}),"\n",(0,s.jsx)(t.p,{children:"A task within a workflow represents a discrete unit of work that contributes to\nachieving the overall objectives defined by the workflow."}),"\n",(0,s.jsx)(t.p,{children:"It encapsulates a specific action or set of actions that need to be executed in\na predefined order to advance the workflow towards its completion."}),"\n",(0,s.jsx)(t.p,{children:"Tasks are designed to be modular and focused, each serving a distinct purpose\nwithin the broader context of the workflow."}),"\n",(0,s.jsx)(t.p,{children:"By breaking down the workflow into manageable tasks, organizations can effectively\ncoordinate and track progress, enabling efficient collaboration and ensuring that\nwork is completed in a structured and organized manner."}),"\n",(0,s.jsx)(t.p,{children:"In Temporal, a task may add logic to:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"the workflow"}),": this is a deterministic piece of logic which helps progress\nthe flow of data."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsxs)(t.strong,{children:["an ",(0,s.jsx)(t.a,{href:"https://docs.temporal.io/activities",children:"activity"})]}),": this executes a single,\nwell-defined action, such as making an HTTP call, and may be non-deterministic."]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"available-tasks",children:"Available Tasks"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Name"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.a,{href:"./call",children:"Call"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Enables the execution of a specified function within a workflow, allowing seamless integration with custom business logic or external services."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.a,{href:"./do",children:"Do"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Serves as a fundamental building block within workflows, enabling the sequential execution of multiple subtasks. By defining a series of subtasks to perform in sequence, the Do task facilitates the efficient execution of complex operations, ensuring that each subtask is completed before the next one begins."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.a,{href:"./for",children:"For"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Allows workflows to iterate over a collection of items, executing a defined set of subtasks for each item in the collection. This task type is instrumental in handling scenarios such as batch processing, data transformation, and repetitive operations across datasets."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.a,{href:"./fork",children:"Fork"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Allows workflows to execute multiple subtasks concurrently, enabling parallel processing and improving the overall efficiency of the workflow. By defining a set of subtasks to perform concurrently, the Fork task facilitates the execution of complex operations in parallel, ensuring that multiple tasks can be executed simultaneously."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.a,{href:"./listen",children:"Listen"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Provides a mechanism for workflows to await and react to external events, enabling event-driven behavior within workflow systems."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.a,{href:"./raise",children:"Raise"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:'Intentionally triggers and propagates errors. By employing the "Raise" task, workflows can deliberately generate error conditions, allowing for explicit error handling and fault management strategies to be implemented.'})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.a,{href:"./run",children:"Run"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Provides the capability to execute external containers, shell commands, scripts, or workflows."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.a,{href:"./set",children:"Set"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"A task used to set data."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.a,{href:"./switch",children:"Switch"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Enables conditional branching within workflows, allowing them to dynamically select different paths based on specified conditions or criteria"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.a,{href:"./try",children:"Try"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Serves as a mechanism within workflows to handle errors gracefully, potentially retrying failed tasks before proceeding with alternate ones."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.a,{href:"./wait",children:"Wait"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Allows workflows to pause or delay their execution for a specified period of time."})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"runtime-expressions",children:"Runtime Expressions"}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsxs)(t.p,{children:["Runtime expressions use the format for ",(0,s.jsx)(t.a,{href:"https://jqlang.org/",children:"jq"}),", wrapped in ",(0,s.jsx)(t.code,{children:"${}"})]})}),"\n",(0,s.jsx)(t.p,{children:"Runtime expressions serve as dynamic elements that enable flexible and adaptable\nworkflow behaviors. These expressions provide a means to evaluate conditions,\ntransform data, and make decisions during the execution of workflows."}),"\n",(0,s.jsx)(t.h3,{id:"variables",children:"Variables"}),"\n",(0,s.jsx)(t.p,{children:"Variables able to be referenced within runtime expressions."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Name"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Example"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"$context"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Anything set to the output in previous steps. Typically used within ",(0,s.jsx)(t.a,{href:"../intro#output",children:"output"})," and ",(0,s.jsx)(t.a,{href:"../intro#export",children:"export"})]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"${ $context }"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"$data"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Data set to the workflow's state - see ",(0,s.jsx)(t.a,{href:"#data",children:"data"})]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"${ $data.someData }"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"$env"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Any environment variable prefixed with ",(0,s.jsx)(t.code,{children:"ZIGFLOW_"}),". The prefix is ",(0,s.jsx)(t.em,{children:"NOT"})," used in this object"]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"${ $env.EXAMPLE_ENVVAR }"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"$input"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Any input received when the workflow was triggered"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"${ $input.val1 }"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"$output"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Any output exported from a task - see ",(0,s.jsx)(t.a,{href:"../intro#output",children:"output"})]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"${ $output }"})})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"data",children:"Data"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"$data"})," object also receives the workflow and activity info."]}),"\n",(0,s.jsx)(t.h4,{id:"workflow",children:"Workflow"}),"\n",(0,s.jsxs)(t.p,{children:["This can be accessed from ",(0,s.jsx)(t.code,{children:"${ $data.workflow }"}),"."]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"attempt"}),"\n",(0,s.jsx)(t.li,{children:"binary_checksum"}),"\n",(0,s.jsx)(t.li,{children:"continued_execution_run_id"}),"\n",(0,s.jsx)(t.li,{children:"cron_schedule"}),"\n",(0,s.jsx)(t.li,{children:"first_run_id"}),"\n",(0,s.jsx)(t.li,{children:"namespace"}),"\n",(0,s.jsx)(t.li,{children:"original_run_id"}),"\n",(0,s.jsx)(t.li,{children:"parent_workflow_namespace"}),"\n",(0,s.jsx)(t.li,{children:"priority_key"}),"\n",(0,s.jsx)(t.li,{children:"task_queue_name"}),"\n",(0,s.jsx)(t.li,{children:"workflow_execution_id"}),"\n",(0,s.jsx)(t.li,{children:"workflow_execution_run_id"}),"\n",(0,s.jsx)(t.li,{children:"workflow_execution_timeout"}),"\n",(0,s.jsx)(t.li,{children:"workflow_start_time"}),"\n",(0,s.jsx)(t.li,{children:"workflow_type_name"}),"\n"]}),"\n",(0,s.jsx)(t.h4,{id:"activity",children:"Activity"}),"\n",(0,s.jsxs)(t.p,{children:["This can be accessed from ",(0,s.jsx)(t.code,{children:"${ $data.activity }"}),". Ideally, this should be avoided\nas Zigflow does not allow specific targeting of an activity."]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"activity_id"}),"\n",(0,s.jsx)(t.li,{children:"activity_type_name"}),"\n",(0,s.jsx)(t.li,{children:"attempt"}),"\n",(0,s.jsx)(t.li,{children:"deadline"}),"\n",(0,s.jsx)(t.li,{children:"heartbeat_token"}),"\n",(0,s.jsx)(t.li,{children:"is_local_activity"}),"\n",(0,s.jsx)(t.li,{children:"priority_key"}),"\n",(0,s.jsx)(t.li,{children:"schedule_to_close_timeout"}),"\n",(0,s.jsx)(t.li,{children:"scheduled_time"}),"\n",(0,s.jsx)(t.li,{children:"start_to_close_timeout"}),"\n",(0,s.jsx)(t.li,{children:"started_time"}),"\n",(0,s.jsx)(t.li,{children:"task_queue"}),"\n",(0,s.jsx)(t.li,{children:"task_token"}),"\n",(0,s.jsx)(t.li,{children:"workflow_namespace"}),"\n",(0,s.jsx)(t.li,{children:"workflow_execution_id"}),"\n",(0,s.jsx)(t.li,{children:"workflow_execution_run_id"}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"flow-directive",children:"Flow Directive"}),"\n",(0,s.jsx)(t.p,{children:"Flow Directives are commands within a workflow that dictate its progression."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Directive"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:'"continue"'})}),(0,s.jsx)(t.td,{children:"Instructs the workflow to proceed with the next task in line. This action may conclude the execution of a particular workflow or branch if there are not task defined after the continue one."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:'"exit"'})}),(0,s.jsxs)(t.td,{children:["Completes the current scope's execution, potentially terminating the entire workflow if the current task resides within the main ",(0,s.jsx)(t.code,{children:"do"})," scope."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:'"end"'})}),(0,s.jsx)(t.td,{children:"Provides a graceful conclusion to the workflow execution, signaling its completion explicitly."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"string"})}),(0,s.jsx)(t.td,{children:"Continues the workflow at the task with the specified name."})]})]})]}),"\n",(0,s.jsx)(t.admonition,{type:"warning",children:(0,s.jsx)(t.p,{children:"Flow directives may only redirect to tasks declared within their own scope. In\nother words, they cannot target tasks at a different depth."})})]})}function h(e={}){const{wrapper:t}={...(0,l.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453(e,t,i){i.d(t,{R:()=>r,x:()=>o});var n=i(6540);const s={},l=n.createContext(s);function r(e){const t=n.useContext(l);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),n.createElement(l.Provider,{value:t},e.children)}}}]);