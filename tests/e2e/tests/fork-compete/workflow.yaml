document:
  dsl: 1.0.0
  namespace: fork-competing
  name: workflow
  version: 0.0.1
do:
  - fork-compete:
      output:
        as:
          fork: ${ . }
      fork:
        compete: true
        branches:
          - callHTTP:
              call: http
              with:
                method: get
                endpoint: http://localhost:8888/posts/1
          # Use a wait task to guarantee which one wins
          - wait:
              wait:
                seconds: 5
